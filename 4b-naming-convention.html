<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Type</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <div class="container">
        <aside id="aside">

        </aside>

        <main>
            <header>
                
            </header>
            
            <div class="content">
                <h2>4.2 â€” Naming Convention (biar database enak dibaca manusia) ğŸ§ âœ¨</h2>

                <h3>ğŸ”° APA ITU NAMING CONVENTION?</h3>

                <div class="quote"><p>Naming convention adalah: <br> <br>

                aturan konsisten dalam memberi nama database object <br>
                (table, column, index, foreign key, dll)</p></div> <br> <br>

                <p>Tujuannya bukan buat mesin â€” <br>
                ğŸ‘‰ buat manusia (termasuk kamu 6 bulan lagi)</p>

                <br> <hr> <br>

                <h3>.A. ğŸ§  KENAPA NAMING CONVENTION ITU PENTING?</h3>

                <p>Tanpa naming convention:
                <ul>
                    <li>query susah dibaca</li>
                    <li>tim bingung</li>
                    <li>banyak asumsi</li>
                    <li>rawan salah join</li>
                </ul> <br> <br>
                
                Dengan naming convention:
                <ul>
                    <li>struktur langsung kebaca</li>
                    <li>minim dokumentasi</li>
                    <li>query â€œberceritaâ€</li>
                </ul></p>

                <br> <hr> <br>

                <h3>B. ğŸ¯ PRINSIP UMUM NAMING (PEGANG INI)</h3>
                <ul>
                    <li>Konsisten > pintar</li>
                    <li>Deskriptif tapi singkat</li>
                    <li>Gunakan bahasa Inggris</li>
                    <li>Hindari singkatan ambigu</li>
                    <li>Lowercase + snake_case</li>
                    <li>Satu makna = satu nama</li>
                </ul>

                <br> <hr> <br>

                <h2>4.2.1 NAMING TABLE</h2>
                <h3>A. ğŸ”¹ ATURAN DASAR TABLE</h3>
                <h4>âœ… 1. Gunakan plural</h4>

                <p>Karena table = kumpulan data</p>
                <table>
                    <tr>
                        <th>âŒ Salah</th>
                        <th>âœ… Benar</th>
                    </tr>
                    <tr>
                        <td>user</td>
                        <td>users</td>
                    </tr>
                    <tr>
                        <td>product</td>
                        <td>products</td>
                    </tr>
                    <tr>
                        <td>order</td>
                        <td>orders</td>
                    </tr>
                </table>
<br>

                <p>ğŸ“Œ Biar kebaca:</p>

                <div class="quote"><p>â€œselect * from usersâ€</p></div>

                <br> <hr> <br>

                <h4>âœ… 2. Gunakan noun (kata benda)</h4>

                <p>âŒ get_users <br>
                âŒ user_data <br>
                âœ… users</p>

                <br> <hr> <br>

                <h4>âœ… 3. Gunakan snake_case</h4>
<pre>
    order_items <br>
    purchase_orders <br>
    user_profiles
</pre>
                <p>âŒ JANGAN
                <ul>
                    <li>camelCase â†’ <code>userProfile</code></li>
                    <li>PascalCase â†’ <code>UserProfile</code></li>
                    <li>spasi â†’ <code>user profile</code></li>
                </ul></p>
                
                <br> <hr> <br>

                <h3>B. ğŸ”¹ TABLE RELASI (PIVOT TABLE)</h3>
                <p>ğŸ“Œ Aturan pivot table:
                <ul>
                    <li>gabungan dua table</li>
                    <li>alphabetical order</li>
                    <li>singular/plural bebas, yang penting konsisten</li>
                </ul></p>
                
<pre>
    product_category <br>
    role_user <br>
    order_product
</pre>

                <p>ğŸ”¥ Laravel suka format ini</p>

                <br> <hr> <br>

                <h3>C. ğŸ”¹ TABLE DETAIL / TURUNAN</h3>
                <table>
                    <tr>
                        <th>Tujuan</th>
                        <th>Contoh</th>
                    </tr>
                    <tr>
                        <td>Detail order</td>
                        <td>order_items</td>
                    </tr>
                    <tr>
                        <td>History</td>
                        <td>order_histories</td>
                    </tr>
                    <tr>
                        <td>Log</td>
                        <td>activity_logs</td>
                    </tr>
                    <tr>
                        <td>Snapshot</td>
                        <td>daily_sales_summary</td>
                    </tr>
                </table>

                <br> <hr> <br>

                <h3>D. ğŸ§  PENAMAAN TABLE YANG BAGUS ITUâ€¦</h3>

                <p>Saat lihat table:</p>
<pre>
    order_items
</pre> <br> <br>

                <p>Otak langsung mikir:</p>

                <div class="quote"><p>â€œini item-item di dalam orderâ€</p></div> <br>

                <p>Itu tujuan naming convention ğŸ‘</p>

                <br> <hr> <br>

                <h3>E. ğŸ”¥ CONTOH STRUKTUR TABLE SEHAT</h3>
<pre>
    users <br>
    user_profiles <br>
    roles <br>
    role_user <br> <br>

    products <br>
    categories <br>
    product_category <br> <br>

    orders <br>
    order_items <br>
    payments
</pre>

                <p>ğŸ“Œ Tanpa buka schema pun, sudah kebaca relasinya</p>

                <br> <hr> <br>

                <h3>F. ğŸš¨ KESALAHAN UMUM DI DUNIA NYATA</h3>

                <p>âŒ tbl_users <br>
                âŒ ms_product <br>
                âŒ data_order_2024 <br>
                âŒ users_new_fix <br> <br>

                â¡ï¸ prefix seperti tbl_, ms_ tidak perlu di DB modern</p>

                <br> <hr> <br>

                <h3>G. ğŸ§  KALAU ADA KONDISI KHUSUS?</h3>
<pre>
    Multi-tenant? <br>
    tenant_users <br>
    tenant_orders <br> <br>

    Module-based? <br>
    sales_orders <br>
    finance_transactions
</pre>

                <p>ğŸ“Œ Tapi jangan over-prefix </p>

                <br> <hr> <br>

                <h3>H. ğŸ§© RANGKUMAN TABLE NAMING</h3>
                <ul>
                    <li>Table = plural</li>
                    <li>Noun, bukan verb</li>
                    <li>snake_case</li>
                    <li>Jelas & konsisten</li>
                </ul> <br>

                <p>Hindari prefix aneh</p>

                <br> <br>

                <hr>

                <br> <br>

                <h2>4.2.2 â€” Naming Column (kolom yang â€œngomongâ€)</h2>

                <h3>A. ğŸ”° FILOSOFI NAMING COLUMN</h3>

                <div class="quote"><p>Nama kolom yang bagus itu: <br> <br>

                tanpa buka dokumentasi, orang langsung paham isinya apa</p></div> <br>

                <p>Kalau table itu subjek, <br>
                kolom itu atribut & fakta</p>

                <br> <hr> <br>

                <h3>B. ğŸ¯ PRINSIP UMUM NAMING COLUMN</h3>

                <p>Pegang ini dulu:
                <ul>
                    <li>snake_case</li>
                    <li>deskriptif tapi singkat</li>
                    <li>hindari singkatan ambigu</li>
                    <li>konsisten antar table</li>
                    <li>satu kolom = satu makna</li>
                </ul></p>

                <br> <hr> <br>

                <h4>ğŸ”¹ 1. PRIMARY KEY</h4>
                <p>ğŸ“Œ Aturan:</p>
<pre>
    id
</pre>

                <p>âŒ user_id di table users <br>
                âŒ users_id <br>
                âŒ uid <br> <br>

                ğŸ”¥ Simple & universal</p>

                <br> <hr> <br>

                <h4>ğŸ”¹ 2. FOREIGN KEY</h4>
                <p>ğŸ“Œ Aturan emas:</p>
<pre>
    {table_singular}_id
</pre>
                <br>
                <p>Contoh:</p>
<pre>
    users.id <br>
    orders.user_id <br>
    order_items.order_id <br>
    order_items.product_id
</pre>

                <p>ğŸ§  Otak langsung tau:</p>

                <div class="quote"><p>â€œorder ini punya userâ€</p></div>

                <br> <hr> <br>

                <h4>ğŸ”¹ 3. KOLOM TEXT / DATA UTAMA</h4>
                <table>
                    <tr>
                        <th>Tujuan</th>
                        <th>âŒ Buruk</th>
                        <th>âœ… Bagus</th>
                    </tr>
                    <tr>
                        <td>Nama user</td>
                        <td class="ct">nm</td>
                        <td class="ct">name</td>
                    </tr>
                    <tr>
                        <td>Email</td>
                        <td class="ct">mail</td>
                        <td class="ct">email</td>
                    </tr>
                    <tr>
                        <td>Alamat</td>
                        <td class="ct">adr</td>
                        <td class="ct">address</td>
                    </tr>
                    <tr>
                        <td>Deskripsi</td>
                        <td class="ct">desc</td>
                        <td class="ct">description</td>
                    </tr>
                </table>
                <br> 

                <p>ğŸ“Œ Jangan takut nambah 2â€“3 huruf</p>

                <br> <hr> <br>

                <h4>ğŸ”¹ 4. KOLOM STATUS</h4>
                <p>âŒ Hindari:</p>
<pre>
    status = 1 / 2 / 3
</pre>
<br>
                <p>âœ… Lebih jelas:</p>
<pre>
    status = 'pending' <br>
    status = 'paid' <br>
    status = 'shipped'
</pre>
<br>
                <p>Atau:</p>
<pre>
    status_code
</pre>

                <p>Kalau memang pakai numeric</p>

                <br> <hr> <br>

                <h4>ğŸ”¹ 5. BOOLEAN COLUMN (YA / TIDAK)</h4>
                <p>ğŸ“Œ Gunakan awalan:
                <ul>
                    <li>is_</li>
                    <li>has_</li>
                    <li>can_</li>
                </ul> <br> <br>

                Contoh:</p>
<pre>
    is_active <br>
    is_verified <br>
    has_stock <br>
    can_refund
</pre> <br>

                <p>ğŸ§  Query kebaca:</p>
<pre>
    WHERE is_active = 1
</pre>
                <br> <hr> <br>

                <h4>ğŸ”¹ 6. DATE & TIME COLUMN</h4>
                <p>ğŸ“Œ Konsisten pakai suffix:
                <ul>
                    <li>_at</li>
                    <li>_date</li>
                </ul> <br> <br>

                Contoh:</p>
<pre>
    created_at <br>
    updated_at <br>
    deleted_at <br>
    paid_at <br>
    shipped_at <br>
    birth_date
</pre>

                <p>ğŸ”¥ Laravel-friendly</p>

                <br> <hr> <br>

                <h4>ğŸ”¹ 7. JUMLAH & NILAI ANGKA</h4>
                <p>ğŸ“Œ Gunakan:
                <ul>
                    <li>_count</li>
                    <li>_total</li>
                    <li>_amount</li>
                    <li>_qty</li>
                </ul> <br> <br>
                
                Contoh:</p>
<pre>
    items_count <br>
    total_amount <br>
    tax_amount <br>
    quantity <br>
    stock_qty
</pre>
                <br> <hr> <br>

                <h4>ğŸ”¹ 8. KOLOM HASIL PERHITUNGAN</h4>
                <p>âŒ Jangan ambigu</p>
<pre>
    value <br>
    data <br>
    result
</pre> <br>
                <p>âœ… Jelaskan:</p>
<pre>
    subtotal <br>
    grand_total <br>
    discount_amount
</pre>
                <br> <hr> <br>

                <h4>ğŸ”¹ 9. ENUM / FIXED VALUE COLUMN</h4>

                <p>Kalau pakai enum:</p>
<pre>
    status <br>
    type <br>
    role
</pre> <br>

                <p>Kalau lookup table:</p>
<pre>
    status_id <br>
    role_id <br>
    type_id
</pre>

                <p>ğŸ“Œ Jangan campur</p>

                <br> <hr> <br>

                <h3>C. ğŸš¨ KESALAHAN UMUM DI DUNIA NYATA</h3>

                <p>âŒ data1, data2 <br> 
                âŒ field_a <br> 
                âŒ flag <br> 
                âŒ value <br> <br>

                â¡ï¸ Ini bom waktu</p>

                <br> <hr> <br>

                <h3>D. ğŸ”¥ CONTOH QUERY YANG â€œNGOMONGâ€</h3>
<pre>
    SELECT <br>
    users.name, <br>
    orders.total_amount, <br>
    orders.paid_at <br>
    FROM orders <br>
    JOIN users ON users.id = orders.user_id <br>
    WHERE orders.status = 'paid';
</pre>

                <p>ğŸ§  Bahkan non-programmer pun bisa nebak artinya</p>

                <br> <hr> <br>

                <h3>E. ğŸ§© RANGKUMAN NAMING COLUMN</h3>
                <ul>
                    <li>Kolom harus self-explanatory</li>
                    <li>Foreign key konsisten {table}_id</li>
                    <li>Boolean diawali is_, has_, can_</li>
                    <li>Waktu pakai _at</li>
                    <li>Jumlah pakai _count, _amount, _qty</li>
                </ul>

                <br> <br>

                <hr>

                <br> <br>
                <h2>4.2.3 â€” Naming Index (biar performa & debugging enak)</h2>
                
                <h3>A. ğŸ”° KENAPA NAMING INDEX ITU PENTING?</h3>
                
                Index tanpa nama jelas itu kayak:

                kabel server tanpa label ğŸ˜µ

                Masalah kalau asal:

                error message susah dibaca

                drop index bingung

                duplicate index gak ketahuan

                tim lain nyasar

                <br> <hr> <br>

                <h3>B. ğŸ§  PRINSIP UMUM NAMING INDEX</h3>

                jelas kolom apa

                jelas jenis index

                konsisten

                mudah ditebak

                <h3>D. ğŸ”§ FORMAT UMUM NAMING INDEX</h3>
                idx_{table}_{column}


                Contoh:

                idx_users_email
                idx_orders_user_id
                idx_products_name

                <br> <hr> <br>

                <h4>ğŸ”¹ 1. INDEX BIASA</h4> 

                Dipakai untuk:

                WHERE

                JOIN

                ORDER BY

                CREATE INDEX idx_orders_user_id ON orders(user_id);

                <br> <hr> <br>

                <h4>ğŸ”¹ 2. UNIQUE INDEX</h4> 

                Format:

                uniq_{table}_{column}


                Contoh:

                CREATE UNIQUE INDEX uniq_users_email ON users(email);


                ğŸ§  Dari namanya langsung kebaca:

                â€œemail harus unikâ€

                <br> <hr> <br>

                <h4>ğŸ”¹ 3. COMPOSITE INDEX (lebih dari 1 kolom)</h4> 
                ğŸ“Œ Format:
                idx_{table}_{col1}_{col2}


                Contoh:

                CREATE INDEX idx_orders_user_id_status
                ON orders(user_id, status);


                ğŸ”¥ Penting:

                urutan kolom berpengaruh

                (user_id, status) â‰  (status, user_id)

                <br> <hr> <br>

                <h4>ğŸ”¹ 4. INDEX untuk SOFT DELETE</h4> 

                Kalau pakai deleted_at:

                CREATE INDEX idx_orders_deleted_at ON orders(deleted_at);


                ğŸ“Œ Bikin query default lebih cepat:

                WHERE deleted_at IS NULL

                <br> <hr> <br>

                <h4>ğŸ”¹ 5. INDEX untuk FOREIGN KEY</h4> 

                Best practice:

                idx_{table}_{foreign_key}


                Contoh:

                idx_orders_user_id
                idx_order_items_product_id


                ğŸ”¥ JOIN jadi ringan

                <br> <hr> <br>

                <h3>E. ğŸš¨ KESALAHAN UMUM</h3>

                âŒ index1
                âŒ idx1
                âŒ users_email_idx (inkonsisten)
                âŒ nama auto-generated dibiarkan

                â¡ï¸ bikin hidup susah pas error

                ğŸ§ª CONTOH ERROR MESSAGE (kenapa nama penting)
                Duplicate entry 'test@mail.com' for key 'uniq_users_email'


                ğŸ§  Langsung paham:

                â€œOh email harus unikâ€

                Bandingin dengan:

                for key 'users_email_unique_1'


                ğŸ˜µâ€ğŸ’« bingung

                <br> <hr> <br>

                <h3>F. ğŸ”¥ CONTOH STRUKTUR INDEX SEHAT</h3>
                users
                - idx_users_email (unique)
                - idx_users_created_at

                orders
                - idx_orders_user_id
                - idx_orders_status
                - idx_orders_created_at

                <br> <hr> <br>

                <h3>G. ğŸ§  INDEX â‰  BANYAK = BAGUS</h3>

                Sedikit catatan arsitek:

                terlalu banyak index â†’ insert/update lambat

                index = biaya maintenance

                â¡ï¸ index hanya yang sering dipakai

                <br> <hr> <br>

                <h3>H. ğŸ§© RANGKUMAN NAMING INDEX</h3>

                Gunakan prefix:
                
                idx_

                uniq_

                Sertakan:

                table

                kolom

                Konsisten

                Composite index urutannya penting

                <br> <br>

                <hr>

                <br> <br>

                <h2>4.2.4 â€” Naming Foreign Key (constraint yang kebaca manusia) ğŸ”—ğŸ§ </h2>

                <h3>A. ğŸ”° APA ITU FOREIGN KEY CONSTRAINT?</h3>

                Foreign key bukan cuma kolom (user_id), tapi:

                aturan relasi antar tabel yang dijaga database

                Kalau dilanggar:

                insert gagal

                delete gagal

                update gagal

                Dan di sinilah nama constraint muncul di error message

                <br> <hr> <br>

                <h3>B. ğŸ§  KENAPA NAMA FOREIGN KEY PENTING?</h3>

                Tanpa nama jelas:

                Cannot add or update a child row:
                a foreign key constraint fails (`db`.`orders`, CONSTRAINT `orders_ibfk_1`)


                ğŸ˜µâ€ğŸ’« bingung

                Dengan nama rapi:

                CONSTRAINT fk_orders_user_id


                ğŸ§  langsung tau:

                â€œorder ini bermasalah ke user_idâ€

                <br> <hr> <br>

                <h3>C. ğŸ”§ FORMAT UMUM NAMING FOREIGN KEY</h3>
                fk_{table}_{column}


                Atau kalau mau eksplisit:

                fk_{child_table}_{parent_table}


                Keduanya boleh, pilih satu & konsisten

                <br> <hr> <br>

                <h4>ğŸ”¹ 1. FORMAT PALING UMUM (DISARANKAN)</h4>
                fk_orders_user_id
                fk_order_items_order_id
                fk_order_items_product_id


                ğŸ”¥ Jelas:

                tabel mana

                kolom mana

                <br> <hr> <br>

                <h4>ğŸ”¹ 2. CONTOH CREATE TABLE DENGAN FK NAMING</h4>
                CREATE TABLE orders (
                id BIGINT PRIMARY KEY,
                user_id BIGINT,
                CONSTRAINT fk_orders_user_id
                    FOREIGN KEY (user_id)
                    REFERENCES users(id)
                );


                ğŸ“Œ Pas error, constraint ini yang muncul

                <br> <hr> <br>

                <h4>ğŸ”¹ 3. FOREIGN KEY + ON DELETE / ON UPDATE</h4>

                Nama tetap sama, behaviour beda:

                CONSTRAINT fk_orders_user_id
                FOREIGN KEY (user_id)
                REFERENCES users(id)
                ON DELETE RESTRICT
                ON UPDATE CASCADE;


                ğŸ§  Dari nama + rule:

                â€œorder tergantung user, gak boleh user dihapus sembaranganâ€

                <br> <hr> <br>

                <h4>ğŸ”¹ 4. FOREIGN KEY DI PIVOT TABLE</h4>
                CREATE TABLE role_user (
                role_id BIGINT,
                user_id BIGINT,
                CONSTRAINT fk_role_user_role_id
                    FOREIGN KEY (role_id) REFERENCES roles(id),
                CONSTRAINT fk_role_user_user_id
                    FOREIGN KEY (user_id) REFERENCES users(id)
                );


                ğŸ”¥ Aman & kebaca

                <br> <hr> <br>

                <h3>D. ğŸš¨ KESALAHAN UMUM</h3>

                âŒ Biarkan auto-generated name
                âŒ Nama fk_1, fk_2
                âŒ Campur format
                âŒ FK tanpa index (berat di JOIN)

                <br> <hr> <br>

                <h3>E. ğŸ§  FOREIGN KEY vs INDEX (JANGAN KETUKER)</h3>

                Foreign key = aturan integritas

                Index = performa

                ğŸ“Œ Tapi:

                kolom FK WAJIB di-index

                <br> <hr> <br>

                <h3>F. ğŸ”¥ CONTOH ERROR MESSAGE YANG ENAK</h3>
                Cannot delete user:
                foreign key constraint fails (fk_orders_user_id)


                ğŸ§  Langsung tau:

                â€œUser ini masih punya orderâ€

                <br> <hr> <br>

                <h3>G. ğŸ§© RANGKUMAN NAMING FOREIGN KEY</h3>

                Gunakan prefix fk_

                Sertakan table & kolom

                Jangan biarkan nama auto

                Konsisten format

                Selalu index kolom FK

                <br> <hr> <br>

                <h3>H. ğŸ‰ 4.2 NAMING CONVENTION SELESAI</h3>

                Bro, kalau digabung:

                table â†’ kebaca struktur

                column â†’ kebaca makna

                index â†’ kebaca performa

                foreign key â†’ kebaca relasi & error

                ğŸ”¥ Ini database ramah manusia

                <br> <br> 

                <hr>

                <br> <br>

                <a href="4c-soft-hard-delete.html" class="btn-next">4c Soft Hard Delete</a>
                
            </div>
        </main>
    </div>

    <script>
        fetch('layout/aside.html').then(response => response.text()).then(data => {
            document.getElementById('aside').innerHTML = data;

            const currentPage = window.location.pathname.split('/').pop();
            const links = document.querySelectorAll('aside a');

            links.forEach(link => {
                if(link.getAttribute('href') == currentPage){
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>