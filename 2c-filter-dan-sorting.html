<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Type</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <div class="container">
        <aside id="aside">

        </aside>

        <main>
            <header>
                
            </header>
            
            <div class="content">

                2.3 Filtering & Sorting â€” Menyaring & Mengurutkan Data
                A. Apa itu Filtering?

                Filtering = memilih data yang relevan dari banyak data.

                Tanpa filtering:

                SELECT * FROM orders;


                Dengan filtering:

                SELECT * FROM orders WHERE status = 'paid';


                ðŸ‘‰ dari ribuan data, kamu ambil yang kamu butuhkan saja

                B. Apa itu Sorting?

                Sorting = mengurutkan hasil query

                Contoh:

                ORDER BY created_at DESC;


                Artinya:

                data terbaru dulu

                atau termurah

                atau alfabet

                ðŸ“Œ Sorting tidak mengubah data, cuma urutan tampilannya

                C. Kenapa Filtering & Sorting Penting?

                Di aplikasi nyata:

                halaman list

                search

                laporan

                dashboard

                Semua pakai:

                WHERE

                ORDER BY

                LIMIT

                ðŸ”¥ 90% query bisnis = SELECT + WHERE + ORDER BY

                2.3.1 WHERE â€” Pondasi Filtering
                A. Apa itu WHERE?

                WHERE digunakan untuk memfilter baris (row) berdasarkan kondisi.

                SELECT kolom
                FROM tabel
                WHERE kondisi;

                B. WHERE Paling Dasar
                SELECT * FROM users
                WHERE id = 1;


                Ambil satu user spesifik.

                C. Operator Dasar di WHERE
                Operator	Arti
                =	sama dengan
                != / <>	tidak sama
                >	lebih besar
                <	lebih kecil
                >=	lebih besar sama
                <=	lebih kecil sama

                Contoh:

                SELECT * FROM products
                WHERE price > 100000;

                D. WHERE + String
                SELECT * FROM users
                WHERE email = 'a@b.com';


                âš ï¸ String harus pakai tanda petik

                E. WHERE + NULL (âš ï¸ sering salah)

                âŒ SALAH:

                WHERE deleted_at = NULL;


                âœ… BENAR:

                WHERE deleted_at IS NULL;


                Dan:

                WHERE deleted_at IS NOT NULL;

                F. WHERE + Boolean
                SELECT * FROM users
                WHERE is_active = 1;


                atau:

                WHERE is_active = TRUE;


                (MySQL treat TRUE = 1)

                G. WHERE + Index (penting!)
                SELECT * FROM users
                WHERE email = 'x@y.com';


                ðŸ”¥ Kalau email di-index â†’ query super cepat

                Makanya:

                WHERE menentukan kebutuhan INDEX

                H. WHERE + Perhitungan
                SELECT * FROM products
                WHERE price * stock > 1000000;


                âš ï¸ Ini tidak pakai index, karena ada kalkulasi

                Better:

                WHERE stock > 0 AND price > 100000;

                I. Kesalahan Umum Pemula âŒ

                âŒ Lupa WHERE â†’ semua data
                âŒ Salah operator
                âŒ Bandingin NULL pakai =
                âŒ WHERE di kolom tanpa index (tabel besar)

                J. Pola Aman Query Filtering

                Selalu mulai dari:

                SELECT *
                FROM tabel
                WHERE ...
                LIMIT 10;


                ðŸ‘‰ Aman, tidak nyedot data besar

                K. Mini Latihan ðŸ”¥

                Tabel products:

                id, name, price, stock, is_active, created_at


                Tugas:

                Ambil produk dengan price > 50000

                Ambil produk yang masih aktif

                Ambil produk yang stoknya habis

                <br> <br>

                <hr>

                <br> <br>

                2.3.2 AND / OR â€” Gabung Kondisi Biar Query Pintar
                A. Kenapa Butuh AND / OR?

                Satu kondisi jarang cukup.

                Contoh dunia nyata:

                produk aktif DAN stok ada

                user admin ATAU manager

                order paid DAN belum dikirim

                ðŸ‘‰ Di sinilah AND & OR dipakai.

                B. AND â€” Semua Harus Benar
                SELECT * FROM products
                WHERE is_active = 1
                AND stock > 0;


                Artinya:

                aktif âœ…

                stok ada âœ…

                Kalau salah satu false â†’ tidak masuk hasil

                C. OR â€” Salah Satu Benar Cukup
                SELECT * FROM users
                WHERE role = 'admin'
                OR role = 'manager';


                Kalau salah satu cocok â†’ masuk hasil

                D. AND vs OR (Logika Sederhana)
                Kondisi A	Kondisi B	AND	OR
                true	true	true	true
                true	false	false	true
                false	true	false	true
                false	false	false	false
                E. Kombinasi AND + OR (âš ï¸ WAJIB PAKAI KURUNG)

                âŒ SALAH (logika kacau):

                WHERE role = 'admin'
                OR role = 'manager'
                AND is_active = 1;


                SQL baca sebagai:

                admin OR (manager AND aktif)


                âœ… BENAR (jelas maksudnya):

                WHERE (role = 'admin' OR role = 'manager')
                AND is_active = 1;


                ðŸ“Œ Pakai tanda kurung = nyelametin hidup kamu

                F. Contoh Kasus Nyata
                Produk siap dijual
                SELECT * FROM products
                WHERE is_active = 1
                AND stock > 0
                AND price >= 10000;

                User berhak akses
                SELECT * FROM users
                WHERE (role = 'admin' OR role = 'editor')
                AND is_active = 1;

                G. AND / OR + Index (penting!)

                ðŸ”¥ Paling optimal:

                WHERE email = 'x@y.com' AND is_active = 1;


                âš ï¸ Kurang optimal:

                WHERE price > 10000 OR stock > 0;


                Kenapa?

                OR sering bikin index tidak kepakai

                ðŸ“Œ Rule:

                AND = ramah index
                OR = hati-hati di tabel besar

                H. NOT (bonus dikit)
                SELECT * FROM users
                WHERE NOT is_active;


                Atau:

                WHERE role != 'admin';

                I. Kesalahan Umum âŒ

                âŒ Lupa kurung
                âŒ OR berlebihan
                âŒ Logika kebalik
                âŒ Query lambat karena OR di kolom besar

                J. Mini Latihan ðŸ”¥

                Tabel orders:

                id, status, payment_method, total, created_at


                Tugas:

                Order paid DAN total > 100000

                Order paid ATAU shipped

                Order paid atau shipped yang total > 100000
                
                <a href="2b-dml.html" class="btn-next">2b. DDL</a>
            </div>
        </main>
    </div>

    <script>
        fetch('layout/aside.html').then(response => response.text()).then(data => {
            document.getElementById('aside').innerHTML = data;

            const currentPage = window.location.pathname.split('/').pop();
            const links = document.querySelectorAll('aside a');

            links.forEach(link => {
                if(link.getAttribute('href') == currentPage){
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>