<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Type</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <div class="container">
        <aside id="aside">

        </aside>

        <main>
            <header>
                
            </header>
            
            <div class="content">

                2.3 Filtering & Sorting ‚Äî Menyaring & Mengurutkan Data
                A. Apa itu Filtering?

                Filtering = memilih data yang relevan dari banyak data.

                Tanpa filtering:

                SELECT * FROM orders;


                Dengan filtering:

                SELECT * FROM orders WHERE status = 'paid';


                üëâ dari ribuan data, kamu ambil yang kamu butuhkan saja

                B. Apa itu Sorting?

                Sorting = mengurutkan hasil query

                Contoh:

                ORDER BY created_at DESC;


                Artinya:

                data terbaru dulu

                atau termurah

                atau alfabet

                üìå Sorting tidak mengubah data, cuma urutan tampilannya

                C. Kenapa Filtering & Sorting Penting?

                Di aplikasi nyata:

                halaman list

                search

                laporan

                dashboard

                Semua pakai:

                WHERE

                ORDER BY

                LIMIT

                üî• 90% query bisnis = SELECT + WHERE + ORDER BY

                2.3.1 WHERE ‚Äî Pondasi Filtering
                A. Apa itu WHERE?

                WHERE digunakan untuk memfilter baris (row) berdasarkan kondisi.

                SELECT kolom
                FROM tabel
                WHERE kondisi;

                B. WHERE Paling Dasar
                SELECT * FROM users
                WHERE id = 1;


                Ambil satu user spesifik.

                C. Operator Dasar di WHERE
                Operator	Arti
                =	sama dengan
                != / <>	tidak sama
                >	lebih besar
                <	lebih kecil
                >=	lebih besar sama
                <=	lebih kecil sama

                Contoh:

                SELECT * FROM products
                WHERE price > 100000;

                D. WHERE + String
                SELECT * FROM users
                WHERE email = 'a@b.com';


                ‚ö†Ô∏è String harus pakai tanda petik

                E. WHERE + NULL (‚ö†Ô∏è sering salah)

                ‚ùå SALAH:

                WHERE deleted_at = NULL;


                ‚úÖ BENAR:

                WHERE deleted_at IS NULL;


                Dan:

                WHERE deleted_at IS NOT NULL;

                F. WHERE + Boolean
                SELECT * FROM users
                WHERE is_active = 1;


                atau:

                WHERE is_active = TRUE;


                (MySQL treat TRUE = 1)

                G. WHERE + Index (penting!)
                SELECT * FROM users
                WHERE email = 'x@y.com';


                üî• Kalau email di-index ‚Üí query super cepat

                Makanya:

                WHERE menentukan kebutuhan INDEX

                H. WHERE + Perhitungan
                SELECT * FROM products
                WHERE price * stock > 1000000;


                ‚ö†Ô∏è Ini tidak pakai index, karena ada kalkulasi

                Better:

                WHERE stock > 0 AND price > 100000;

                I. Kesalahan Umum Pemula ‚ùå

                ‚ùå Lupa WHERE ‚Üí semua data
                ‚ùå Salah operator
                ‚ùå Bandingin NULL pakai =
                ‚ùå WHERE di kolom tanpa index (tabel besar)

                J. Pola Aman Query Filtering

                Selalu mulai dari:

                SELECT *
                FROM tabel
                WHERE ...
                LIMIT 10;


                üëâ Aman, tidak nyedot data besar

                K. Mini Latihan üî•

                Tabel products:

                id, name, price, stock, is_active, created_at


                Tugas:

                Ambil produk dengan price > 50000

                Ambil produk yang masih aktif

                Ambil produk yang stoknya habis

                <br> <br>

                <hr>

                <br> <br>

                2.3.2 AND / OR ‚Äî Gabung Kondisi Biar Query Pintar
                A. Kenapa Butuh AND / OR?

                Satu kondisi jarang cukup.

                Contoh dunia nyata:

                produk aktif DAN stok ada

                user admin ATAU manager

                order paid DAN belum dikirim

                üëâ Di sinilah AND & OR dipakai.

                B. AND ‚Äî Semua Harus Benar
                SELECT * FROM products
                WHERE is_active = 1
                AND stock > 0;


                Artinya:

                aktif ‚úÖ

                stok ada ‚úÖ

                Kalau salah satu false ‚Üí tidak masuk hasil

                C. OR ‚Äî Salah Satu Benar Cukup
                SELECT * FROM users
                WHERE role = 'admin'
                OR role = 'manager';


                Kalau salah satu cocok ‚Üí masuk hasil

                D. AND vs OR (Logika Sederhana)
                Kondisi A	Kondisi B	AND	OR
                true	true	true	true
                true	false	false	true
                false	true	false	true
                false	false	false	false
                E. Kombinasi AND + OR (‚ö†Ô∏è WAJIB PAKAI KURUNG)

                ‚ùå SALAH (logika kacau):

                WHERE role = 'admin'
                OR role = 'manager'
                AND is_active = 1;


                SQL baca sebagai:

                admin OR (manager AND aktif)


                ‚úÖ BENAR (jelas maksudnya):

                WHERE (role = 'admin' OR role = 'manager')
                AND is_active = 1;


                üìå Pakai tanda kurung = nyelametin hidup kamu

                F. Contoh Kasus Nyata
                Produk siap dijual
                SELECT * FROM products
                WHERE is_active = 1
                AND stock > 0
                AND price >= 10000;

                User berhak akses
                SELECT * FROM users
                WHERE (role = 'admin' OR role = 'editor')
                AND is_active = 1;

                G. AND / OR + Index (penting!)

                üî• Paling optimal:

                WHERE email = 'x@y.com' AND is_active = 1;


                ‚ö†Ô∏è Kurang optimal:

                WHERE price > 10000 OR stock > 0;


                Kenapa?

                OR sering bikin index tidak kepakai

                üìå Rule:

                AND = ramah index
                OR = hati-hati di tabel besar

                H. NOT (bonus dikit)
                SELECT * FROM users
                WHERE NOT is_active;


                Atau:

                WHERE role != 'admin';

                I. Kesalahan Umum ‚ùå

                ‚ùå Lupa kurung
                ‚ùå OR berlebihan
                ‚ùå Logika kebalik
                ‚ùå Query lambat karena OR di kolom besar

                J. Mini Latihan üî•

                Tabel orders:

                id, status, payment_method, total, created_at


                Tugas:

                Order paid DAN total > 100000

                Order paid ATAU shipped

                Order paid atau shipped yang total > 100000

                <br> <br>

                <hr>

                <br> <br>

                2.3.3 LIKE

                LIKE dipakai buat pencarian berbasis pola (pattern matching).
                Ini yang dipakai di fitur:

                search produk

                search user

                filter nama / email

                kolom ‚Äúcari‚Ä¶‚Äù di aplikasi

                Kalau = itu harus sama persis,
                LIKE itu lebih fleksibel.

                Konsep Dasar LIKE
                SELECT * FROM users
                WHERE name LIKE 'Ani';


                ‚ö†Ô∏è Ini sama saja dengan =, karena tidak ada wildcard.

                LIKE jadi berguna karena wildcard.

                Wildcard di LIKE
                % ‚Üí mewakili banyak karakter (0 atau lebih)
                _ ‚Üí mewakili 1 karakter saja
                1Ô∏è‚É£ Paling umum: %kata% (contains)
                SELECT * FROM products
                WHERE name LIKE '%sepatu%';


                Artinya:

                mengandung kata sepatu

                posisi bebas (awal, tengah, akhir)

                üì¶ Contoh data yang lolos:

                Sepatu Lari

                Sepatu Casual Pria

                Tas + Sepatu Travel

                üß† Ini yang dipakai di search box aplikasi

                2Ô∏è‚É£ Awalan kata: kata%
                SELECT * FROM users
                WHERE email LIKE 'admin%';


                Artinya:

                dimulai dengan admin

                ‚úîÔ∏è cocok:

                admin@gmail.com

                admin123@company.com

                ‚ùå tidak cocok:

                superadmin@gmail.com

                üìå Cocok buat:

                kode produk

                username prefix

                kategori

                3Ô∏è‚É£ Akhiran kata: %kata
                SELECT * FROM users
                WHERE email LIKE '%@gmail.com';


                Artinya:

                diakhiri dengan @gmail.com

                üß† Ini sering dipakai buat:

                filter domain email

                tipe file (%.pdf, %.jpg)

                4Ô∏è‚É£ Single character wildcard _
                SELECT * FROM users
                WHERE username LIKE 'adm_n';


                Artinya:

                adm + 1 karakter + n

                ‚úîÔ∏è cocok:

                admin

                adm1n

                ‚ùå tidak cocok:

                admiiin

                admmn

                üìå Jarang dipakai, tapi penting buat:

                kode tetap

                format tertentu

                LIKE + AND / OR (Real Case)
                SELECT * FROM products
                WHERE name LIKE '%sepatu%'
                AND price BETWEEN 100000 AND 300000;


                Artinya:

                nama mengandung sepatu

                harga di range tertentu

                üß† Ini search + filter harga ‚Üí khas e-commerce.

                LIKE + WHERE Status
                SELECT * FROM users
                WHERE name LIKE '%fan%'
                AND status = 'active';


                Artinya:

                nama mengandung "fan"

                user masih aktif

                Case Sensitivity (PENTING!)

                Di MySQL:

                LIKE biasanya case-insensitive

                tergantung collation

                Contoh:

                'Fany' LIKE '%fan%'  ‚Üí TRUE


                Kalau mau case-sensitive:

                WHERE BINARY name LIKE '%fan%';

                LIKE vs = (perbandingan cepat)
                Operator	Kapan Dipakai
                =	exact match
                LIKE	search / partial
                IN	beberapa nilai tetap
                ‚ö†Ô∏è Performa Warning (WAJIB TAHU)
                WHERE name LIKE '%sepatu%'


                ‚ùå TIDAK BISA pakai index
                karena % di depan.

                Lebih aman:

                WHERE name LIKE 'sepatu%'


                ‚úîÔ∏è masih bisa pakai index

                üß† Jadi:

                search besar ‚Üí butuh FULLTEXT (nanti level lanjut)

                data kecil ‚Üí LIKE aman

                Mental Model (biar nempel)

                LIKE = cari pola teks, bukan bandingin nilai

                %kata% ‚Üí mengandung

                kata% ‚Üí awalan

                %kata ‚Üí akhiran

                _ ‚Üí satu karakter

                <br> <br>

                <hr>

                <br> <br>

                2.3.4 IN

                IN dipakai kalau kita mau filter berdasarkan beberapa nilai sekaligus
                tanpa nulis OR panjang-panjang.

                Kalau di aplikasi:

                filter status

                filter kategori

                filter role user

                filter beberapa ID

                Masalah Kalau Tanpa IN (OR Hell üòµ)
                SELECT * FROM orders
                WHERE status = 'pending'
                OR status = 'paid'
                OR status = 'shipped';


                ‚úîÔ∏è benar
                ‚ùå tapi ribet, panjang, rawan typo

                Solusi: IN ‚ú®
                SELECT * FROM orders
                WHERE status IN ('pending', 'paid', 'shipped');


                üéØ Lebih:

                ringkas

                enak dibaca

                gampang di-maintain

                Cara Kerja IN (Konsep)
                column IN (value1, value2, value3)


                Artinya:

                ambil data kalau column sama dengan salah satu nilai di dalam kurung

                Contoh Kasus Nyata
                1Ô∏è‚É£ Filter status pesanan
                SELECT * FROM orders
                WHERE status IN ('pending', 'processing');


                üì¶ Artinya:

                pesanan yang belum selesai

                2Ô∏è‚É£ Filter role user
                SELECT * FROM users
                WHERE role IN ('admin', 'staff');


                üß† Cocok buat:

                dashboard admin

                akses internal

                3Ô∏è‚É£ Filter kategori produk
                SELECT * FROM products
                WHERE category_id IN (1, 3, 5);


                üìå Biasanya hasil dari:

                checkbox filter

                multi select

                IN vs AND (INI PENTING!)

                ‚ùå SALAH:

                WHERE status = 'pending'
                AND status = 'paid';


                üòµ tidak mungkin, status cuma satu.

                ‚úîÔ∏è BENAR:

                WHERE status IN ('pending', 'paid');


                üß† Rule:

                OR logic ‚Üí IN

                AND logic ‚Üí kondisi beda kolom

                IN + AND (Kombinasi Umum)
                SELECT * FROM orders
                WHERE status IN ('paid', 'shipped')
                AND total_price > 500000;


                Artinya:

                status tertentu

                nilai transaksi besar

                üî• ini real banget di laporan.

                NOT IN (Kebalikannya)
                SELECT * FROM users
                WHERE status NOT IN ('banned', 'deleted');


                Artinya:

                ambil semua kecuali status tersebut

                üìå Cocok buat:

                data aktif

                hide data rusak

                IN dengan Subquery (Level Naik dikit üöÄ)
                SELECT * FROM products
                WHERE category_id IN (
                    SELECT id FROM categories
                    WHERE is_active = 1
                );


                üß† Artinya:

                produk yang kategorinya masih aktif

                ini fondasi sebelum JOIN & RELATION üîë

                IN vs BETWEEN vs LIKE
                Kebutuhan	Pakai
                beberapa nilai tetap	IN
                rentang angka/tanggal	BETWEEN
                search teks	LIKE
                Performa Catatan (Santai tapi Penting)

                IN aman & cepat untuk list kecil‚Äìmenengah

                IN pakai index ‚Üí OK

                list ratusan/ribuan ‚Üí mending JOIN / temp table

                Mental Model biar nempel üß†

                IN = OR versi rapi

                Kalau kamu mulai ngetik:

                col = A OR col = B OR col = C


                ‚õî STOP
                ‚û°Ô∏è ganti ke IN

                <br> <br>

                <hr>

                <br> <br>

                2.3.5 BETWEEN

                BETWEEN dipakai buat filter data dalam rentang tertentu.

                Biasanya buat:

                tanggal (harian, bulanan)

                harga

                umur

                nilai

                saldo

                Sintaks Dasar
                WHERE column BETWEEN nilai_awal AND nilai_akhir;


                ‚ö†Ô∏è INCLUSIVE

                nilai_awal DAN nilai_akhir ikut terhitung

                BETWEEN untuk Angka
                Contoh: harga produk
                SELECT * FROM products
                WHERE price BETWEEN 100000 AND 300000;


                Artinya:

                harga ‚â• 100.000

                harga ‚â§ 300.000

                Contoh: umur user
                SELECT * FROM users
                WHERE age BETWEEN 18 AND 25;


                üìå Cocok buat:

                segmentasi user

                validasi data

                BETWEEN untuk Tanggal (INI PALING SERING DIPAKAI)
                Contoh: transaksi di bulan tertentu
                SELECT * FROM orders
                WHERE created_at BETWEEN '2025-01-01' AND '2025-01-31';


                üß† Ambil transaksi selama Januari 2025

                ‚ö†Ô∏è Jebakan BETWEEN + DATETIME (PENTING)

                Kalau created_at bertipe DATETIME:

                '2025-01-31' = '2025-01-31 00:00:00'


                ‚ùå Artinya tanggal 31 siang‚Äìmalam KELEWAT

                Solusi Aman untuk DATETIME
                ‚úÖ Cara 1 (Recommended)
                WHERE created_at >= '2025-01-01'
                AND created_at < '2025-02-01';


                üìå Aman untuk:

                laporan bulanan

                index optimal

                timezone friendly

                ‚ùå Cara 2 (Kurang disarankan)
                WHERE created_at BETWEEN
                '2025-01-01 00:00:00'
                AND '2025-01-31 23:59:59';


                Bisa error kalau:

                precision microsecond

                timezone beda

                BETWEEN + DATE Column

                Kalau kolom DATE (bukan DATETIME):

                WHERE order_date BETWEEN '2025-01-01' AND '2025-01-31';


                ‚úîÔ∏è Aman
                ‚úîÔ∏è Simpel

                NOT BETWEEN (Kebalikannya)
                SELECT * FROM products
                WHERE price NOT BETWEEN 100000 AND 300000;


                Artinya:

                harga di luar range

                BETWEEN vs IN vs LIKE
                Kebutuhan	Pakai
                rentang nilai	BETWEEN
                beberapa nilai tertentu	IN
                teks mengandung	LIKE
                BETWEEN + AND (Kombinasi Real Life)
                SELECT * FROM orders
                WHERE status = 'paid'
                AND created_at >= '2025-01-01'
                AND created_at < '2025-02-01';


                üî• Ini query laporan bulanan standar industri.

                Kesalahan Umum ‚ùå

                ‚ùå Pakai BETWEEN untuk DATETIME tanpa mikir jam
                ‚ùå Rentang terbalik (BETWEEN 300 AND 100)
                ‚ùå Pakai fungsi di kolom (bikin index mati)

                Mental Model biar nempel üß†

                BETWEEN = pagar awal & akhir

                Kalau mikir:

                ‚Äúambil data dari X sampai Y‚Äù

                ‚û°Ô∏è BETWEEN (atau >= & < kalau datetime)

                Mini Latihan üî•

                Tabel payments:

                id, amount, paid_at


                1Ô∏è‚É£ Ambil pembayaran 1jt ‚Äì 5jt
                2Ô∏è‚É£ Ambil pembayaran bulan Februari 2025
                3Ô∏è‚É£ Ambil pembayaran di luar range 2024
                

                <br> <br>

                <hr>

                <br> <br>

                2.3.6 ORDER BY

                ORDER BY dipakai untuk mengurutkan hasil SELECT.

                SELECT kolom
                FROM tabel
                ORDER BY kolom;


                Default:

                ASC (ascending / naik)

                ORDER BY ASC vs DESC
                üîº ASC (kecil ‚Üí besar)
                ORDER BY price ASC;

                üîΩ DESC (besar ‚Üí kecil)
                ORDER BY price DESC;

                Contoh Nyata (WAJIB PAHAM)
                1Ô∏è‚É£ Produk termurah ke termahal
                SELECT name, price
                FROM products
                ORDER BY price ASC;

                2Ô∏è‚É£ Produk terbaru (PALING SERING)
                SELECT id, name, created_at
                FROM products
                ORDER BY created_at DESC;


                üìå Ini default:

                listing admin

                feed

                dashboard

                ORDER BY Lebih dari Satu Kolom
                SELECT * FROM users
                ORDER BY role ASC, created_at DESC;


                Artinya:

                urutkan berdasarkan role

                kalau role sama ‚Üí urutkan by tanggal

                ORDER BY Berdasarkan Kolom SELECT
                SELECT
                    name,
                    price,
                    price * stock AS total_value
                FROM products
                ORDER BY total_value DESC;


                üî• Berguna buat:

                ranking

                leaderboard

                laporan nilai tertinggi

                ORDER BY Angka Kolom (‚ö†Ô∏è Hindari)
                SELECT name, price FROM products
                ORDER BY 2 DESC;


                Artinya:

                urutkan kolom ke-2 (price)

                ‚ùå Tidak disarankan:

                rawan error

                susah dibaca

                ORDER BY + WHERE (Combo Wajib)
                SELECT * FROM orders
                WHERE status = 'paid'
                ORDER BY created_at DESC;


                üß† Filter dulu, baru urutkan.

                ORDER BY + LIMIT (Top / Latest Data)
                SELECT * FROM products
                ORDER BY sold DESC
                LIMIT 5;


                üî• Contoh:

                5 produk terlaris

                5 user terbaru

                10 transaksi terakhir

                ORDER BY Random (Jarang tapi Ada)
                ORDER BY RAND();


                ‚ö†Ô∏è BERAT untuk data besar
                Cocok:

                sample kecil

                demo

                quiz

                Performa & Index (Penting dikit)

                ORDER BY kolom ber-index ‚Üí cepat

                ORDER BY kolom tanpa index ‚Üí full scan

                ORDER BY + LIMIT ‚Üí sangat efektif

                üìå Index di created_at itu investasi üíé

                Kesalahan Umum ‚ùå

                ‚ùå Lupa DESC untuk data terbaru
                ‚ùå ORDER BY sebelum WHERE (salah urutan SQL)
                ‚ùå ORDER BY kolom yang nggak perlu

                Mental Model biar nempel üß†

                ORDER BY = cara data disajikan, bukan cara disimpan

                Data di DB tidak punya urutan sampai kamu tentukan.

                Mini Latihan üî•

                Tabel posts:

                id, title, views, created_at


                1Ô∏è‚É£ Urutkan dari view terbanyak
                2Ô∏è‚É£ Ambil 3 post terbaru
                3Ô∏è‚É£ Urutkan berdasarkan views, lalu created_at
                <a href="2b-dml.html" class="btn-next">2b. DDL</a>
            </div>
        </main>
    </div>

    <script>
        fetch('layout/aside.html').then(response => response.text()).then(data => {
            document.getElementById('aside').innerHTML = data;

            const currentPage = window.location.pathname.split('/').pop();
            const links = document.querySelectorAll('aside a');

            links.forEach(link => {
                if(link.getAttribute('href') == currentPage){
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>