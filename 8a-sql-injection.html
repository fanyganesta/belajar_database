<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Type</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <div class="container">
        <aside id="aside">

        </aside>

        <main>
            <header>
                
            </header>
            
            <div class="content">
                <h2>BAB 8 â€” Security & Best Practice</h2>

                â€œDatabase yang cepat tapi bocor = gagal.â€
                â€œDatabase yang aman tapi gak bisa dirawat = mati pelan-pelan.â€

                Bab 8 ini ngebahas cara berpikir orang production, bukan tutorial syntax doang.

                Kita bakal bahas bagaimana database diserang, dijaga, dan diselamatkan.

                ğŸ¯ Tujuan BAB 8

                Setelah bab ini, kamu bukan cuma bisa nulis SQL, tapi:

                Paham celah fatal yang sering bikin kebobolan

                Tahu hak akses user itu bukan formalitas

                Punya rencana kalau database hancur

                Bisa upgrade struktur database tanpa chaos

                ğŸ§  Mindset Inti BAB 8

                Security bukan fitur, tapi kebiasaan.
                Best practice bukan teori, tapi refleksi dari banyak kegagalan orang lain.

                ğŸ” Struktur BAB 8

                Kita bagi jadi 4 pilar utama, masing-masing aku tandai dengan huruf (Aâ€“D) supaya jelas alurnya.

                <br> <hr> <br>

                <h3>A. SQL Injection â€” Serangan Paling Tua, Tapi Masih Membunuh</h3>

                â€œKalau kamu masih pakai string concat di queryâ€¦
                kamu sedang membuka pintu rumah dan bilang: masuk aja bro ğŸ˜ˆâ€

                Fokus di sini:

                Cara kerja SQL Injection (bukan cuma contoh)

                Kenapa masih sering terjadi (bahkan di 2025)

                Pola pikir attacker vs developer

                Secure mindset saat nulis query

                ğŸ“Œ Ini fondasi security, kalau A bocor â†’ B, C, D gak ada artinya.

                <br> <hr> <br>

                <h3>B. User & Privilege (GRANT) â€” Jangan Semua Jadi Tuhan</h3>

                â€œKenapa user aplikasi bisa DROP TABLE?â€
                Karena developer males bikin role.

                Di bagian ini:

                Konsep least privilege

                Pemisahan user:

                user aplikasi

                user admin

                user reporting

                Kenapa root = musuh production

                GRANT bukan formalitas, tapi firewall level SQL

                ğŸ“Œ Banyak kebocoran data bukan karena injection, tapi karena hak akses kebablasan.

                <br> <hr> <br>

                <h3>C. Backup Strategy â€” Pertanyaan Paling Mahal: â€˜Backup terakhir kapan?â€™</h3>

                Backup itu seperti payung.
                Baru dicari setelah hujan.

                Fokus:

                Jenis backup (logical vs physical)

                Full, incremental, differential

                Backup tanpa ganggu production

                Restore test (yang sering dilupakan)

                ğŸ“Œ Backup tanpa pernah test restore = ilusi keamanan.

                <br> <hr> <br>

                <h3>D. Migration Strategy â€” Ubah Database Tanpa Membunuh Sistem</h3>

                â€œDi local aman, di production chaos.â€
                Itu bukan takdir, itu migration strategy yang jelek.

                Di sini kita bahas:

                Kenapa ALTER TABLE itu berbahaya

                Versioning schema

                Forward vs rollback migration

                Zero-downtime mindset

                <br> <hr> <br>

                <h3>E. ğŸ“Œ Migration itu bukan nulis SQL, tapi ngatur risiko.</h3>

                ğŸ§© Relasi Antar Sub Materi
                A (Injection) â†’ Lindungi pintu masuk
                B (Privilege) â†’ Batasi kerusakan
                C (Backup) â†’ Jalan pulang kalau gagal
                D (Migration) â†’ Evolusi tanpa bunuh diri


                Kalau satu hilang:

                A gagal â†’ database dibobol

                B gagal â†’ damage total

                C gagal â†’ data hilang permanen

                D gagal â†’ production downtime

                <br> <hr> <br>

                <h3>F. âš ï¸ Kesalahan Umum Developer (yang Bab 8 beresin)</h3>

                â€œFramework kan udah amanâ€

                â€œNanti aja backup kalau user banyakâ€

                â€œMigration tinggal ALTER TABLEâ€

                â€œUser database cuma satu, lebih simpelâ€

                ğŸ‘‰ Bab 8 ngajarin kamu berpikir sebelum kejadian, bukan setelah kena.

                <br> <hr> <br>

                <h3>G. ğŸ”¥ Penutup BAB 8 (Overview)</h3>

                Security bukan tentang paranoia, tapi persiapan.
                Best practice bukan ribet, tapi bekas luka.

                Setelah BAB 8:

                Kamu siap pegang database orang lain

                Kamu layak dipercaya ngelola data bisnis

                Kamu naik kelas dari coder ke engineer

                <br> <br>

                <hr>

                <br> <br>

                <h2>A. SQL Injection</h2>

                â€œBukan bug. Ini akibat cara berpikir.â€

                SQL Injection itu bukan soal syntax salah,
                tapi developer yang percaya input user.

                <br> <hr> <br>

                <h3>ğŸ§  A.0 Mindset Dulu (PENTING)</h3>

                Sebelum teknis, pegang ini:

                User = musuh potensial
                Bahkan user baik pun bisa jadi vektor serangan.

                Attacker tidak peduli UI kamu cantik.
                Dia peduli: â€œInput ini masuk ke query gak?â€

                <br> <hr> <br>

                <h3>ğŸ”¥ A.1 Apa Itu SQL Injection (Secara Nyata)</h3>

                SQL Injection terjadi ketika:

                Input user langsung disambung ke query

                Database menjalankan input itu sebagai perintah SQL

                Contoh klasik (DOSA BESAR ğŸ˜ˆ):

                SELECT * FROM users 
                WHERE email = '$email' AND password = '$password';


                User isi:

                email: admin@example.com
                password: ' OR 1=1 --


                Query berubah jadi:

                SELECT * FROM users 
                WHERE email = 'admin@example.com'
                AND password = '' OR 1=1 -- ';


                ğŸ“Œ OR 1=1 = selalu true
                ğŸ“Œ -- = komentar â†’ sisanya diabaikan

                â¡ï¸ LOGIN TANPA PASSWORD

                <br> <hr> <br>

                <h3>ğŸ’€ A.2 Jenis-Jenis SQL Injection (yang sering kejadian)</h3>
                A.2.a Authentication Bypass

                Login tanpa password

                Reset password user lain

                Ambil session admin

                Biasanya di:

                login

                forgot password

                OTP check

                A.2.b Data Exfiltration (Nyedot Data)

                Query disuntik buat:

                baca tabel lain

                dump data user

                ambil email, hash password

                Contoh:

                ' UNION SELECT email, password FROM users --


                ğŸ“Œ UNION = musuh lama developer malas

                A.2.c Data Manipulation

                Bukan cuma baca, tapi:

                UPDATE saldo

                DELETE data

                DROP TABLE

                '; DELETE FROM transactions; --


                ğŸ’¥ Satu request â†’ satu bisnis tutup.

                A.2.d Blind SQL Injection

                Lebih licik:

                Tidak ada error

                Tapi attacker pakai logika TRUE/FALSE

                Lama tapi pasti berhasil

                Contoh:

                ' AND SUBSTRING(password,1,1)='a' --


                ğŸ“Œ Pelan tapi mematikan.

                <br> <hr> <br>

                <h3>ğŸ¤¯ A.3 Kenapa SQL Injection Masih Terjadi?</h3>

                Jawaban jujur:

                âŒ A.3.a â€œFramework sudah aman kan?â€

                Aman kalau kamu pakai dengan benar

                Tapi raw query + string concat = tamat

                âŒ A.3.b â€œCuma internal appâ€

                Internal â‰  aman

                Insider threat itu nyata

                âŒ A.3.c â€œData kecilâ€

                Attacker gak peduli besar kecil

                Mereka cari pintu terbuka

                <br> <hr> <br>

                <h3>ğŸ›¡ï¸ A.4 Cara Mencegah SQL Injection (WAJIB)</h3>
                A.4.a Prepared Statement (WAJIB HUKUM)

                Bukan opsi. WAJIB.

                SELECT * FROM users 
                WHERE email = ? AND password = ?;


                Database:

                memisahkan query dan data

                input tidak bisa jadi SQL

                ğŸ“Œ Ini tembok beton.

                A.4.b ORM BUKAN jaminan mutlak

                ORM aman kalau:

                gak pakai raw query sembarangan

                gak concat string manual

                A.4.c Validasi Input â‰  Anti Injection

                Validasi:

                panjang

                format

                tipe

                Tapi:
                âŒ bukan pengganti prepared statement

                A.4.d Least Privilege (nyambung ke B nanti)

                Kalau injection terjadi:

                damage harus minimal

                User aplikasi:

                âŒ DROP

                âŒ ALTER

                âŒ SUPER

                <br> <hr> <br>

                <h3>ğŸš¨ A.5 Anti-Pattern Mematikan (JANGAN DILAKUKAN)</h3>

                âŒ Escape manual (addslashes)
                âŒ Regex anti SQL keyword
                âŒ Blacklist kata (SELECT, DROP)
                âŒ Percaya input karena "udah di filter"

                ğŸ“Œ Attacker selalu lebih kreatif.

                ğŸ§ª A.6 Checklist Aman (Mental Model)

                Setiap query tanya ini:

                â“ Ada input user?

                â“ Apakah masuk ke SQL?

                â“ Apakah pakai prepared?

                â“ User DB punya akses minimal?

                Kalau satu jawabannya tidak yakin â†’ bahaya.

                <br> <hr> <br>

                <h3>ğŸ§  Ringkasan A. SQL Injection</h3>

                SQL Injection bukan bug teknis
                tapi bug kepercayaan

                Salah Kaprah	Realita
                Framework aman	Developer bisa bikin tidak aman
                Internal app	Internal â‰  trusted
                Sudah divalidasi	Validasi â‰  proteksi SQL

                <a href="8b-user-dan-privilege.html" class="btn-next">8b. User Privilege</a>
            </div>
        </main>
    </div>

    <script>
        fetch('layout/aside.html').then(response => response.text()).then(data => {
            document.getElementById('aside').innerHTML = data;

            const currentPage = window.location.pathname.split('/').pop();
            const links = document.querySelectorAll('aside a');

            links.forEach(link => {
                if(link.getAttribute('href') == currentPage){
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>